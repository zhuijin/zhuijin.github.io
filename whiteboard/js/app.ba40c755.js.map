{"version":3,"file":"js/app.ba40c755.js","mappings":"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","sources":["webpack://whiteboard/./src/components/WhiteBoard/config/index.ts","webpack://whiteboard/./src/components/WhiteBoard/icons/Mouse.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Mouse.vue?0d4b","webpack://whiteboard/./src/components/WhiteBoard/icons/Pen.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Pen.vue?fa5f","webpack://whiteboard/./src/components/WhiteBoard/icons/Setting.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Setting.vue?4406","webpack://whiteboard/./src/components/WhiteBoard/icons/Plus.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Plus.vue?fc90","webpack://whiteboard/./src/components/WhiteBoard/icons/Reduce.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Reduce.vue?0af3","webpack://whiteboard/./node_modules/vue-loader/dist/index.js","webpack://whiteboard/./src/components/WhiteBoard/components/Step.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Clear.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Clear.vue?1a22","webpack://whiteboard/./src/components/WhiteBoard/icons/Tick.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Tick.vue?7410","webpack://whiteboard/./src/components/WhiteBoard/components/ColorPicker/Saturation.vue","webpack://whiteboard/./src/components/WhiteBoard/components/ColorPicker/Checkboard.vue","webpack://whiteboard/./src/components/WhiteBoard/components/ColorPicker/Hue.vue","webpack://whiteboard/./src/components/WhiteBoard/components/ColorPicker/Alpha.vue","webpack://whiteboard/./src/components/WhiteBoard/components/ColorPicker/EditableInput.vue","webpack://whiteboard/./src/components/WhiteBoard/directives/clickOutside.ts","webpack://whiteboard/./src/components/WhiteBoard/components/ColorPicker/index.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Eraser.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Eraser.vue?96c7","webpack://whiteboard/./src/components/WhiteBoard/icons/Revoke.vue","webpack://whiteboard/./src/components/WhiteBoard/icons/Revoke.vue?7a5f","webpack://whiteboard/./src/components/WhiteBoard/components/Toolbar.vue","webpack://whiteboard/./src/components/WhiteBoard/utils/index.ts","webpack://whiteboard/./src/components/WhiteBoard/hooks/useCreateElement.ts","webpack://whiteboard/./src/components/WhiteBoard/utils/db.ts","webpack://whiteboard/./src/components/WhiteBoard/hooks/useHistorySnapshot.ts","webpack://whiteboard/./src/components/WhiteBoard/hooks/useRenderElement.ts","webpack://whiteboard/./src/components/WhiteBoard/hooks/useUpdateElement.ts","webpack://whiteboard/./src/components/WhiteBoard/hooks/useOptionElement.ts","webpack://whiteboard/./src/components/WhiteBoard/hooks/useHandlePointer.ts","webpack://whiteboard/./src/components/WhiteBoard/hooks/useZoom.ts","webpack://whiteboard/./src/components/WhiteBoard/hooks/useClearElement.ts","webpack://whiteboard/./src/components/WhiteBoard/index.vue","webpack://whiteboard/./src/App.vue","webpack://whiteboard/./src/registerServiceWorker.ts","webpack://whiteboard/./src/main.ts","webpack://whiteboard/webpack/bootstrap","webpack://whiteboard/webpack/runtime/chunk loaded","webpack://whiteboard/webpack/runtime/compat get default export","webpack://whiteboard/webpack/runtime/define property getters","webpack://whiteboard/webpack/runtime/global","webpack://whiteboard/webpack/runtime/hasOwnProperty shorthand","webpack://whiteboard/webpack/runtime/node module decorator","webpack://whiteboard/webpack/runtime/jsonp chunk loading","webpack://whiteboard/webpack/startup"],"sourcesContent":["export enum OPTION_TYPE {\n    PEN = \"PEN\", // 画笔\n    MOUSE = \"MOUSE\", // 鼠标-移动-选中\n    CLEAR = \"CLEAR\", // 清空画板\n    ERASER = \"ERASER\", // 橡皮擦\n}","<template>\n    <svg viewBox=\"0 0 320 512\">\n        <path\n            d=\"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z\"\n        ></path>\n    </svg>\n</template>\n","import { render } from \"./Mouse.vue?vue&type=template&id=4f933126\"\nconst script = {}\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <svg viewBox=\"0 0 512 512\">\n        <path\n            fill=\"currentColor\"\n            d=\"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z\"\n        ></path>\n    </svg>\n</template>\n","import { render } from \"./Pen.vue?vue&type=template&id=ca62730a\"\nconst script = {}\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <svg viewBox=\"0 0 1024 1024\">\n        <path\n            d=\"M904.533333 674.133333l-362.666666-362.666666c-17.066667-17.066667-42.666667-17.066667-59.733334 0l-362.666666 362.666666c-17.066667 17.066667-17.066667 42.666667 0 59.733334 17.066667 17.066667 42.666667 17.066667 59.733333 0L512 401.066667l332.8 332.8c8.533333 8.533333 19.2 12.8 29.866667 12.8s21.333333-4.266667 29.866666-12.8c17.066667-17.066667 17.066667-42.666667 0-59.733334z\"\n        ></path>\n    </svg>\n</template>\n","import { render } from \"./Setting.vue?vue&type=template&id=903e2698\"\nconst script = {}\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <svg viewBox=\"0 0 448 512\">\n        <path\n            fill=\"currentColor\"\n            d=\"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z\"\n        ></path>\n    </svg>\n</template>\n","import { render } from \"./Plus.vue?vue&type=template&id=1a942ef6\"\nconst script = {}\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <svg viewBox=\"0 0 448 512\">\n        <path\n            fill=\"currentColor\"\n            d=\"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z\"\n        ></path>\n    </svg>\n</template>\n","import { render } from \"./Reduce.vue?vue&type=template&id=2b838c7d\"\nconst script = {}\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5d9424c5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"wb-step\" }\nconst _hoisted_2 = [\"value\"]\nconst _hoisted_3 = {\n  key: 1,\n  class: \"web-step-value-readonly\"\n}\n\nimport { toRefs } from \"vue\";\nimport Plus from \"../icons/Plus.vue\";\nimport Reduce from \"../icons/Reduce.vue\";\n\nexport default /*#__PURE__*/_defineComponent({\n  name: 'Step',\n  props: {\n    inputValue: {\n        type: [String, Number],\n        default: 0\n    },\n    disabled: {\n        type: Boolean,\n        default: false\n    }\n},\n  emits: [\"reduce\", \"add\", \"input\"],\n  setup(__props, { emit }) {\n\nconst props = __props\n\n\n\nconst { inputValue, disabled } = toRefs(props);\n\n\n\nconst reduce = () => emit(\"reduce\");\nconst add = () => emit(\"add\");\nconst stepValueInput = (event: InputEvent) => {\n    const value = Number((event.target as HTMLInputElement).value);\n    // 限制必须大于等于1\n    if (value < 1) (event.target as HTMLInputElement).value = \"1\";\n    emit(\"input\", value < 1 ? 1 : value);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"wb-step-btn\",\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (reduce()))\n    }, [\n      _createVNode(Reduce)\n    ]),\n    (!_unref(disabled))\n      ? (_openBlock(), _createElementBlock(\"input\", {\n          key: 0,\n          value: _unref(inputValue),\n          type: \"number\",\n          min: \"1\",\n          onInput: _cache[1] || (_cache[1] = event => stepValueInput(event)),\n          class: \"wb-step-value\"\n        }, null, 40, _hoisted_2))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString(_unref(inputValue)), 1)),\n    _createElementVNode(\"div\", {\n      class: \"wb-step-btn\",\n      onClick: _cache[2] || (_cache[2] = ($event: any) => (add()))\n    }, [\n      _createVNode(Plus)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./Step.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Step.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Step.vue?vue&type=style&index=0&id=5d9424c5&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5d9424c5\"]])\n\nexport default __exports__","<template>\n\t<svg viewBox=\"0 0 1024 1024\">\n\t\t<path\n\t\t\td=\"M433.664 250.88L773.12 590.336 599.466667 837.162667a42.666667 42.666667 0 0 1-65.066667 5.632l-61.333333-61.333334v-130.88h-130.858667L181.205333 489.6a42.666667 42.666667 0 0 1 5.632-65.066667l246.826667-173.632z m38.378667-26.986667l66.133333-46.528a42.666667 42.666667 0 0 1 54.72 4.714667l89.130667 89.152 93.781333-93.781333a21.333333 21.333333 0 0 1 30.165333 0l35.2 35.2a21.333333 21.333333 0 0 1 0 30.186666l-93.76 93.76 94.506667 94.506667a42.666667 42.666667 0 0 1 4.714667 54.72l-46.506667 66.133333-328.106667-328.064z\"\n\t\t></path>\n\t</svg>\n</template>","import { render } from \"./Clear.vue?vue&type=template&id=3ebc4820\"\nconst script = {}\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <svg viewBox=\"0 0 1024 1024\">\n        <path\n            d=\"M892.064 261.888a31.936 31.936 0 0 0-45.216 1.472L421.664 717.248 201.216 532.032a32 32 0 1 0-41.152 48.992l243.648 204.704a31.872 31.872 0 0 0 20.576 7.488 31.808 31.808 0 0 0 23.36-10.112l445.888-475.968a32 32 0 0 0-1.472-45.248z\"\n        ></path>\n    </svg>\n</template>\n","import { render } from \"./Tick.vue?vue&type=template&id=37c41058\"\nconst script = {}\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./Saturation.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Saturation.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Saturation.vue?vue&type=style&index=0&id=0d8140ba&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0d8140ba\"]])\n\nexport default __exports__","import script from \"./Checkboard.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Checkboard.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Checkboard.vue?vue&type=style&index=0&id=68741d31&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-68741d31\"]])\n\nexport default __exports__","import script from \"./Hue.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Hue.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Hue.vue?vue&type=style&index=0&id=1c8d77ce&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1c8d77ce\"]])\n\nexport default __exports__","import script from \"./Alpha.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Alpha.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Alpha.vue?vue&type=style&index=0&id=d0628eb2&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d0628eb2\"]])\n\nexport default __exports__","import script from \"./EditableInput.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./EditableInput.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./EditableInput.vue?vue&type=style&index=0&id=573ff628&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-573ff628\"]])\n\nexport default __exports__","import { DirectiveBinding } from \"vue\";\n\nconst CTX_CLICK_OUTSIDE_HANDLER = \"CTX_CLICK_OUTSIDE_HANDLER\";\n\ninterface ICustomHTMLElement extends HTMLElement {\n    CTX_CLICK_OUTSIDE_HANDLER?: (event: MouseEvent) => void;\n}\n\nconst clickListener = (\n    el: HTMLElement,\n    event: MouseEvent,\n    binding: DirectiveBinding\n) => {\n    const handler = binding.value;\n\n    const path = event.composedPath();\n    const isClickOutside = path\n        ? path.indexOf(el) < 0\n        : !el.contains(event.target as HTMLElement);\n\n    if (!isClickOutside) return;\n    handler(event);\n};\n\nconst ClickOutsideDirective = {\n    mounted(el: ICustomHTMLElement, binding: DirectiveBinding) {\n        el[CTX_CLICK_OUTSIDE_HANDLER] = (event: MouseEvent) =>\n            clickListener(el, event, binding);\n        setTimeout(() => {\n            document.addEventListener(\"click\", el[CTX_CLICK_OUTSIDE_HANDLER]!);\n        }, 0);\n    },\n\n    unmounted(el: ICustomHTMLElement) {\n        if (el[CTX_CLICK_OUTSIDE_HANDLER]) {\n            document.removeEventListener(\n                \"click\",\n                el[CTX_CLICK_OUTSIDE_HANDLER]!\n            );\n            delete el[CTX_CLICK_OUTSIDE_HANDLER];\n        }\n    }\n};\n\nexport default ClickOutsideDirective;\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=68c050f6&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-68c050f6\"]])\n\nexport default __exports__","<template>\n\t<svg\n\t\tviewBox=\"0 0 1024 1024\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"M567.024534 149.331607m60.339779 60.339778l199.422968 199.422969q60.339779 60.339779 0 120.679557l-184.941421 184.941422q-60.339779 60.339779-120.679558 0l-199.422968-199.422969q-60.339779-60.339779 0-120.679557l184.941421-184.941422q60.339779-60.339779 120.679558 0Z\"\n\t\t></path>\n\t\t<path\n\t\t\td=\"M557.653333 256l211.2 213.333333-302.08 298.666667H346.88l-151.466667-151.466667L557.653333 256m0-85.333333a85.333333 85.333333 0 0 0-60.586666 24.746666L135.253333 554.666667a85.333333 85.333333 0 0 0 0 120.746666L311.466667 853.333333h190.293333l327.253333-327.253333a85.333333 85.333333 0 0 0 0-120.746667l-211.2-211.2A85.333333 85.333333 0 0 0 557.653333 170.666667z\"\n\t\t></path>\n\t\t<path\n\t\t\td=\"M332.8 768m42.666667 0l469.333333 0q42.666667 0 42.666667 42.666667l0 0q0 42.666667-42.666667 42.666666l-469.333333 0q-42.666667 0-42.666667-42.666666l0 0q0-42.666667 42.666667-42.666667Z\"\n\t\t></path>\n\t</svg>\n</template>","import { render } from \"./Eraser.vue?vue&type=template&id=0d84171c\"\nconst script = {}\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <svg\n        viewBox=\"0 0 1024 1024\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <path\n            d=\"M529.3 381.5h-4.9l-0.6-110.3c0-40.9-33.9-57-62.8-33.7L192.1 453.8c-28.9 23.2-28.9 61.2 0.1 84.4L459 752.3c28.9 23.2 68.7-0.4 68.7-34.9V602h26.1c116.7 0 205.7 50.4 260.2 147.7 10.7 17.7 22 13.8 22 0-2.4-173.3-143-368.1-311.6-368.1h4.9z m-5-0.1\"\n        ></path>\n    </svg>\n</template>","import { render } from \"./Revoke.vue?vue&type=template&id=02db0f4a\"\nconst script = {}\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./Toolbar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Toolbar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Toolbar.vue?vue&type=style&index=0&id=7e6eedc8&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/moneyinto/projects/whiteboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7e6eedc8\"]])\n\nexport default __exports__","import getStroke, { StrokeOptions } from \"perfect-freehand\";\nimport { OPTION_TYPE } from \"../config\";\nimport {\n    IBoundsCoords,\n    ICanvasConfig,\n    IElement,\n    IPoint,\n    IRects,\n    IRectParameter,\n} from \"../types\";\n\nexport const deepClone = (obj: unknown) => {\n    return JSON.parse(JSON.stringify(obj));\n};\n\n/**\n * 生成随机码\n * @param len 随机码长度\n */\nexport const createRandomCode = (len = 10): string => {\n    const charset = `_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`;\n    const maxLen = charset.length;\n    let ret = \"\";\n    for (let i = 0; i < len; i++) {\n        const randomIndex = Math.floor(Math.random() * maxLen);\n        ret += charset[randomIndex];\n    }\n    return ret;\n};\n\n/**\n * 获取鼠标点在canvas的坐标\n * @param event\n * @param canvasConfig\n * @returns\n */\nexport const getCanvasPointPosition = (\n    event: PointerEvent | TouchEvent,\n    canvasConfig: ICanvasConfig\n) => {\n    const x =\n        event instanceof TouchEvent\n            ? event.targetTouches[0].clientX\n            : event.clientX;\n    const y =\n        event instanceof TouchEvent\n            ? event.targetTouches[0].clientY\n            : event.clientY;\n    return {\n        x:\n            (x - canvasConfig.offsetX) / canvasConfig.zoom -\n            canvasConfig.scrollX,\n        y:\n            (y - canvasConfig.offsetY) / canvasConfig.zoom -\n            canvasConfig.scrollY,\n    };\n};\n\n/**\n * 获取鼠标点在黑板的坐标\n * @param event\n * @param canvasConfig\n * @returns\n */\nexport const getWhiteBoardPointPosition = (\n    event: PointerEvent | TouchEvent,\n    canvasConfig: ICanvasConfig\n) => {\n    const x =\n        event instanceof TouchEvent\n            ? event.targetTouches[0].clientX\n            : event.clientX;\n    const y =\n        event instanceof TouchEvent\n            ? event.targetTouches[0].clientY\n            : event.clientY;\n    return {\n        x: (x - canvasConfig.offsetX) / canvasConfig.zoom,\n        y: (y - canvasConfig.offsetY) / canvasConfig.zoom,\n    };\n};\n\n/**\n * 获取缩放后对应点的scroll\n * @param x\n * @param y\n * @param canvasConfig\n * @param newZoom\n * @param oldZoom\n * @returns\n */\nexport const getZoomScroll = (\n    x: number,\n    y: number,\n    canvasConfig: ICanvasConfig,\n    newZoom: number,\n    oldZoom: number\n) => {\n    const clientX = x - canvasConfig.offsetX;\n    const clientY = y - canvasConfig.offsetY;\n\n    // get original scroll position without zoom\n    const baseScrollX = canvasConfig.scrollX + (clientX - clientX / oldZoom);\n    const baseScrollY = canvasConfig.scrollY + (clientY - clientY / oldZoom);\n\n    // get scroll offsets for target zoom level\n    const zoomOffsetScrollX = -(clientX - clientX / newZoom);\n    const zoomOffsetScrollY = -(clientY - clientY / newZoom);\n\n    return {\n        scrollX: baseScrollX + zoomOffsetScrollX,\n        scrollY: baseScrollY + zoomOffsetScrollY,\n    };\n};\n\n/**\n * 获取所有点形成的区域的 最小横纵坐标值 和 最大横纵坐标值\n * @param points\n * @returns\n */\nexport const getBoundsCoordsFromPoints = (points: IPoint[]): IBoundsCoords => {\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n\n    for (const [x, y] of points) {\n        minX = Math.min(minX, x);\n        minY = Math.min(minY, y);\n        maxX = Math.max(maxX, x);\n        maxY = Math.max(maxY, y);\n    }\n\n    return [minX, minY, maxX, maxY];\n};\n\n/**\n * 获取元素中心点在canvas中的坐标\n * @param element\n * @returns\n */\nexport const getElementCenterOnCanvas = (element: IElement) => {\n    const [minX, minY, maxX, maxY] = getElementBoundsCoords(element);\n    const cx = (minX + maxX) / 2;\n    const cy = (minY + maxY) / 2;\n    return { cx, cy, minX, minY, maxX, maxY };\n};\n\n/**\n * 获取元素形成矩形最小坐标位置及最大坐标位置\n * @param element\n */\nexport const getElementBoundsCoords = (element: IElement): IBoundsCoords => {\n    if (element.type === OPTION_TYPE.PEN) {\n        const [minX, minY, maxX, maxY] = getBoundsCoordsFromPoints(\n            element.points\n        );\n        return [\n            minX + element.x,\n            minY + element.y,\n            maxX + element.x,\n            maxY + element.y,\n        ];\n    }\n\n    return [\n        element.x,\n        element.y,\n        element.x + element.width,\n        element.y + element.height,\n    ];\n};\n\n// throttle callback to execute once per animation frame\nexport const throttleRAF = <T extends unknown[]>(fn: (...args: T) => void) => {\n    let handle: number | null = null;\n    let lastArgs: T | null = null;\n    let callback: ((...args: T) => void) | null = null;\n    const ret = (...args: T) => {\n        if (process.env.NODE_ENV === \"test\") {\n            fn(...args);\n            return;\n        }\n        lastArgs = args;\n        callback = fn;\n        if (handle === null) {\n            handle = window.requestAnimationFrame(() => {\n                handle = null;\n                lastArgs = null;\n                callback = null;\n                fn(...args);\n            });\n        }\n    };\n    ret.flush = () => {\n        if (handle !== null) {\n            cancelAnimationFrame(handle);\n            handle = null;\n        }\n        if (lastArgs) {\n            const _lastArgs = lastArgs;\n            const _callback = callback;\n            lastArgs = null;\n            callback = null;\n            if (_callback !== null) {\n                _callback(..._lastArgs);\n            }\n        }\n    };\n    ret.cancel = () => {\n        lastArgs = null;\n        callback = null;\n        if (handle !== null) {\n            cancelAnimationFrame(handle);\n            handle = null;\n        }\n    };\n    return ret;\n};\n\nconst TO_FIXED_PRECISION = /(\\s?[A-Z]?,?-?[0-9]*\\.[0-9]{0,2})(([0-9]|e|-)*)/g;\nfunction med(A: number[], B: number[]) {\n    return [(A[0] + B[0]) / 2, (A[1] + B[1]) / 2];\n}\n\n/**\n * 处理笔记转化为svg path\n * @param points\n * @returns\n */\nexport const getPenSvgPath = (points: number[][], lineWidth: number) => {\n    const options: StrokeOptions = {\n        simulatePressure: true, // 是否基于速度模拟压力\n        size: lineWidth,\n        thinning: 0.6,\n        smoothing: 0.5,\n        streamline: 0.5,\n        easing: (t) => Math.sin((t * Math.PI) / 2),\n        last: false,\n    };\n    const storkePoints = getStroke(points, options);\n    const max = storkePoints.length - 1;\n    const svgPathData = storkePoints\n        .reduce(\n            (acc, point, i, arr) => {\n                if (i === max) {\n                    acc.push(point, med(point, arr[0]), \"L\", arr[0], \"Z\");\n                } else {\n                    acc.push(point, med(point, arr[i + 1]));\n                }\n                return acc;\n            },\n            [\"M\", storkePoints[0], \"Q\"]\n        )\n        .join(\" \")\n        .replace(TO_FIXED_PRECISION, \"$1\");\n    const path = new Path2D(svgPathData);\n    return path;\n};\n\n/**\n * 向量叉乘\n * @param v1\n * @param v2\n * @returns\n */\nexport const crossMul = (v1: IPoint, v2: IPoint) => {\n    return v1[0] * v2[1] - v1[1] * v2[0];\n};\n\n/**\n * 获取存在交叉的元素\n * @param startPonit\n * @param x\n * @param y\n * @param elements\n */\nexport const checkCrossElements = (\n    startPonit: IPoint,\n    x: number,\n    y: number,\n    elements: IElement[]\n) => {\n    // ！！！！！！！！！！！！！！暂不考虑线条粗细的情况\n    // 交点的方式 当线条特别短时不是很灵敏！！！！！！！！！！！\n    // ！！！！！可以考虑点到点两点之间距离小于多少为一个判断的界限来判定 只要存在一点 与 橡皮点 的直线值小于 min 则认为橡皮擦除到改元素\n    // 过滤元素 只对可视区域元素进行判断 降低不必要的性能损耗\n    for (const element of elements) {\n        const [minX, minY, maxX, maxY] = getBoundsCoordsFromPoints(\n            element.points\n        );\n        if (\n            !(\n                (element.x + minX > Math.max(startPonit[0], x) &&\n                    element.y + minY > Math.max(startPonit[1], y)) ||\n                (element.x + maxX < Math.min(startPonit[0], x) &&\n                    element.y + maxY < Math.min(startPonit[1], y))\n            ) &&\n            !element.isDelete\n        ) {\n            // 元素为一个点的情况 或者元素比较小，点都都集中在某个小范围内\n            // 进一步优化交点方法不灵敏问题\n            if (\n                (maxX - minX < 5 && maxY - minY < 5) ||\n                element.points.length === 2\n            ) {\n                const r = Math.hypot(x - element.x, y - element.y);\n                if (r < 5) return (element.isDelete = true);\n            }\n\n            // 下面对存在交点的情况 进行进一步判断\n            // 通过向量的叉乘进行判断\n            // 向量a×向量b（×为向量叉乘），若结果小于0，表示向量b在向量a的顺时针方向；若结果大于0，表示向量b在向量a的逆时针方向；若等于0，表示向量a与向量b平行\n            // 假设有两条线段AB，CD，若AB，CD相交\n            // 线段AB与CD所在的直线相交，即点A和点B分别在直线CD的两边\n            // 线段CD与AB所在的直线相交，即点C和点D分别在直线AB的两边\n            // 两个条件同时满足是两线段相交的充要条件，所以我们只需要证明点A和点B分别在直线CD的两边，点C和点D分别在直线AB的两边，这样便可以证明线段AB与CD相交\n            for (let i = 0; i < element.points.length - 1; i++) {\n                const A = [\n                    element.points[i][0] + element.x,\n                    element.points[i][1] + element.y,\n                ];\n                const B = [\n                    element.points[i + 1][0] + element.x,\n                    element.points[i + 1][1] + element.y,\n                ];\n                const C = startPonit;\n                const D = [x, y];\n                // 以A为起点 向量AC AB AD -> 证明 C D 点 在AB两边\n                // 向量AB AC AD\n                const AB: IPoint = [B[0] - A[0], B[1] - A[1]];\n                const AC: IPoint = [C[0] - A[0], C[1] - A[1]];\n                const AD: IPoint = [D[0] - A[0], D[1] - A[1]];\n\n                // 以C为起点 向量 CD CA CB -> 证明 A B 点 在CD两边\n                // 向量 CD CA CB\n                const CA: IPoint = [A[0] - C[0], A[1] - C[1]];\n                const CB: IPoint = [B[0] - C[0], B[1] - C[1]];\n                const CD: IPoint = [D[0] - C[0], D[1] - C[1]];\n\n                // 向量叉乘 一正一负 证明则成立\n                if (\n                    Math.sign(crossMul(AC, AB) * crossMul(AD, AB)) === -1 &&\n                    Math.sign(crossMul(CA, CD) * crossMul(CB, CD)) === -1\n                ) {\n                    element.isDelete = true;\n                    break;\n                }\n            }\n        }\n    }\n};\n\n/**\n * 过滤获取可视区域内的元素\n * @param elements\n * @param scrollX\n * @param scrollY\n * @param normalizedCanvasWidth\n * @param normalizedCanvasHeight\n * @returns\n */\nexport const getVisibleElements = (\n    elements: IElement[],\n    scrollX: number,\n    scrollY: number,\n    normalizedCanvasWidth: number,\n    normalizedCanvasHeight: number\n) => {\n    const [viewMinX, viewMinY, viewMaxX, viewMaxY] = getViewCanvasBoundsCoords(\n        scrollX,\n        scrollY,\n        normalizedCanvasWidth,\n        normalizedCanvasHeight\n    );\n    return elements.filter((element) => {\n        const [minX, minY, maxX, maxY] = getElementBoundsCoords(element);\n        return (\n            maxX > viewMinX &&\n            maxY > viewMinY &&\n            minX < viewMaxX &&\n            minY < viewMaxY\n        );\n    });\n};\n\n/**\n * 获取可视区域最小坐标和最大坐标\n * @param scrollX\n * @param scrollY\n * @param normalizedCanvasWidth\n * @param normalizedCanvasHeight\n * @returns\n */\nexport const getViewCanvasBoundsCoords = (\n    scrollX: number,\n    scrollY: number,\n    normalizedCanvasWidth: number,\n    normalizedCanvasHeight: number\n) => {\n    return [\n        0 - scrollX,\n        0 - scrollY,\n        normalizedCanvasWidth - scrollX,\n        normalizedCanvasHeight - scrollY,\n    ];\n};\n\n/**\n * 获取符合位置点所在的元素\n * @param elements\n * @param zoom\n * @param x\n * @param y\n * @param selectedElement\n * @returns\n */\nexport const getPositionElement = (\n    elements: IElement[],\n    zoom: number,\n    x: number,\n    y: number,\n    selectedElement: IElement | undefined\n) => {\n    // 未计算线条宽度！！！！！！！！！！！！！\n    // 只通过一个点确定不准！！！！！！！！！！！！！！ 方案二 采用邻居两个点的线段 判断移动点距离两点的距离和与两点之间的距离进行比较 再结合方案一 来提升精度\n    // 下面方法暂时为判断绘制线条！！！！！！！！\n    // 等可以绘制形状后再补充完善方法！！！！！！！！！！！\n    // 计算鼠标点位与元素点位之间的距离来确认是否选中到元素\n    // 定义判断基础距离\n    const distance = 5 * zoom;\n    let hoverElement: IElement | undefined;\n    for (const element of elements) {\n        // 对可视区域元素进行进一步的过滤 降低计算\n        const [minX, minY, maxX, maxY] = getElementBoundsCoords(element);\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n        const [nx, ny] = rotate(x, y, cx, cy, -element.angle);\n        if (nx > minX && nx < maxX && ny > minY && ny < maxY) {\n            // 符合条件的元素（线条）进行进一步判断\n            const mousePoint = {\n                x: nx - element.x,\n                y: ny - element.y,\n            };\n\n            if (selectedElement && selectedElement.id === element.id) {\n                hoverElement = selectedElement;\n                break;\n            }\n\n            // 方案一\n            // for (const point of element.points) {\n            //     const r = Math.hypot(point[0] - mousePoint.x, point[1] - mousePoint.y);\n            //     if (r < distance) {\n            //         // 符合条件\n            //         hoverElement = element;\n            //         break;\n            //     }\n            // }\n\n            // 方案二\n            for (let i = 0; i < element.points.length - 1; i++) {\n                const A = element.points[i];\n                const B = element.points[i + 1];\n                // 与A点的距离\n                const rA = Math.hypot(A[0] - mousePoint.x, A[1] - mousePoint.y);\n                // 与B点的距离\n                const rB = Math.hypot(B[0] - mousePoint.x, B[1] - mousePoint.y);\n                // AB点距离\n                const rAB = Math.hypot(A[0] - B[0], A[1] - B[1]);\n                // 判断条件 -- 1、与A点距离小于distance 2、与B点距离小于distance 3、与A点距离 与B点距离 两者之和 与 AB点距离 的差 小于 distance\n                // 三个条件满足一个即为符合要求的元素\n                if (\n                    rA < distance ||\n                    rB < distance ||\n                    rA + rB - rAB < distance\n                ) {\n                    hoverElement = element;\n                    break;\n                }\n            }\n\n            // 已找到符合条件的 退出循环\n            if (hoverElement) break;\n        }\n    }\n\n    return hoverElement ? (deepClone(hoverElement) as IElement) : undefined;\n};\n\n/**\n *\n * @param param0 获取选中区域的九点区域坐标\n * @returns\n */\nexport const getElementResizePoints = (\n    x: number,\n    y: number,\n    elementWidth: number,\n    elementHeight: number,\n    dashedLinePadding: number,\n    resizeRectWidth: number\n) => {\n    const LEFT_X = x - dashedLinePadding - resizeRectWidth;\n    const RIGH_X = x + elementWidth + dashedLinePadding;\n    const CENTER_X = (RIGH_X + LEFT_X) / 2;\n    const TOP_Y = y - dashedLinePadding - resizeRectWidth;\n    const BOTTOM_Y = y + elementHeight + dashedLinePadding;\n    const CENTER_Y = (BOTTOM_Y + TOP_Y) / 2;\n\n    const LEFT_TOP: IRectParameter = [\n        LEFT_X,\n        TOP_Y,\n        resizeRectWidth,\n        resizeRectWidth,\n    ];\n    const LEFT: IRectParameter = [\n        LEFT_X,\n        CENTER_Y,\n        resizeRectWidth,\n        resizeRectWidth,\n    ];\n    const LEFT_BOTTOM: IRectParameter = [\n        LEFT_X,\n        BOTTOM_Y,\n        resizeRectWidth,\n        resizeRectWidth,\n    ];\n    const TOP: IRectParameter = [\n        CENTER_X,\n        TOP_Y,\n        resizeRectWidth,\n        resizeRectWidth,\n    ];\n    const BOTTOM: IRectParameter = [\n        CENTER_X,\n        BOTTOM_Y,\n        resizeRectWidth,\n        resizeRectWidth,\n    ];\n    const RIGHT_TOP: IRectParameter = [\n        RIGH_X,\n        TOP_Y,\n        resizeRectWidth,\n        resizeRectWidth,\n    ];\n    const RIGHT: IRectParameter = [\n        RIGH_X,\n        CENTER_Y,\n        resizeRectWidth,\n        resizeRectWidth,\n    ];\n    const RIGHT_BOTTOM: IRectParameter = [\n        RIGH_X,\n        BOTTOM_Y,\n        resizeRectWidth,\n        resizeRectWidth,\n    ];\n    const ANGLE: IRectParameter = [\n        CENTER_X,\n        TOP_Y - resizeRectWidth * 2,\n        resizeRectWidth,\n        resizeRectWidth,\n    ];\n    return {\n        LEFT_TOP,\n        LEFT,\n        LEFT_BOTTOM,\n        TOP,\n        BOTTOM,\n        RIGHT_TOP,\n        RIGHT,\n        RIGHT_BOTTOM,\n        ANGLE,\n    };\n};\n\nexport enum ELEMENT_RESIZE {\n    LEFT_TOP = \"nwse-resize\",\n    LEFT = \"ew-resize\",\n    LEFT_BOTTOM = \"nesw-resize\",\n    TOP = \"ns-resize\",\n    BOTTOM = \"ns-resize\",\n    RIGHT_TOP = \"nesw-resize\",\n    RIGHT = \"ew-resize\",\n    RIGHT_BOTTOM = \"nwse-resize\",\n    ANGLE = \"grabbing\",\n    MOVE = \"move\",\n}\n\n// 计算 |p1 p2| X |p1 p|\nexport const getCross = (p1: IPoint, p2: IPoint, p: IPoint) => {\n    return (p2[0] - p1[0]) * (p[1] - p1[1]) - (p[0] - p1[0]) * (p2[1] - p1[1]);\n};\n\n/**\n * 判断点是否在区域内\n * @param point\n * @param rect\n * @returns\n */\nexport const checkPointInRect = (\n    point: IPoint,\n    rect: IRectParameter,\n    cx: number,\n    cy: number,\n    angle: number\n) => {\n    // 方案一\n    // 当元素存在旋转的时候\n    // 处理矩形区域的旋转后的四个点\n    // 判断鼠标触摸点是否在旋转后的矩形区域内\n    /**\n     * A-----------------------B\n     * |                       |\n     * |                       |\n     * |        E              |\n     * |                       | \n     * D-----------------------C\n     * \n     * 只要判断(AB X AE ) * (CD X CE) >= 0 就说明E在AD和BC中间夹着\n     * 同理(DA X DE ) * (BC X BE) >= 0 计算另两边AB, CD就可以了\n     * 即(AB X AE ) * (CD X CE)  >= 0 && (DA X DE ) * (BC X BE) >= 0，则该点在矩形区域内\n     */\n    // const rw = rect[2];\n    // const rh = rect[3];\n    // const p1 = [rect[0], rect[1]];\n    // const p2 = [rect[0] + rw, rect[1]];\n    // const p3 = [rect[0], rect[1] + rh];\n    // const p4 = [rect[0] + rw, rect[1] + rh];\n    // const tp1 = rotate(p1[0], p1[1], cx, cy, angle);\n    // const tp2 = rotate(p2[0], p2[1], cx, cy, angle);\n    // const tp3 = rotate(p3[0], p3[1], cx, cy, angle);\n    // const tp4 = rotate(p4[0], p4[1], cx, cy, angle);\n    // return (\n    //     getCross(tp1, tp2, point) * getCross(tp4, tp3, point) >= 0 &&\n    //     getCross(tp2, tp4, point) * getCross(tp3, tp1, point) >= 0\n    // );\n    // 方案二\n    // 当元素存在旋转的时候\n    // 不处理矩形区域的旋转后的四个点\n    // 逆向思维 逆向旋转鼠标触摸点\n    // 判断逆向旋转鼠标触摸点是否在矩形区域内\n    const translatePoint = rotate(point[0], point[1], cx, cy, -angle);\n    const minX = rect[0];\n    const maxX = rect[0] + rect[2];\n    const minY = rect[1];\n    const maxY = rect[1] + rect[3];\n    return (\n        translatePoint[0] > minX &&\n        translatePoint[0] < maxX &&\n        translatePoint[1] > minY &&\n        translatePoint[1] < maxY\n    );\n};\n\n/**\n * 获取当前鼠标对元素的操作\n * @param point\n * @param elements\n * @returns\n */\nexport const getElementOption = (\n    point: IPoint,\n    element: IElement,\n    zoom: number\n) => {\n    const [minX, minY, maxX, maxY] = getElementBoundsCoords(element);\n    const elementWidth = maxX - minX;\n    const elementHeight = maxY - minY;\n    const dashedLinePadding = 4 / zoom;\n    const rectWidth = 8 / zoom;\n    const rects: IRects = getElementResizePoints(\n        minX,\n        minY,\n        elementWidth,\n        elementHeight,\n        dashedLinePadding,\n        rectWidth\n    );\n    const cx = (minX + maxX) / 2;\n    const cy = (minY + maxY) / 2;\n    let elementOption = \"\";\n    for (const key in rects) {\n        if (checkPointInRect(point, rects[key], cx, cy, element.angle)) {\n            elementOption = key;\n            break;\n        }\n    }\n    return elementOption;\n};\n\n/**\n * 获取目标元素\n * @param id\n * @param elements\n * @returns\n */\nexport const getTargetElement = (id: string, elements: IElement[]) => {\n    return elements.find((element) => element.id === id);\n};\n\n/**\n * 角度计算（将角度转换成0-360）\n * @param angle\n * @returns\n */\nexport const normalizeAngle = (angle: number): number => {\n    if (angle >= 2 * Math.PI) {\n        return angle - 2 * Math.PI;\n    }\n    return angle;\n};\n\n/**\n * 旋转坐标点\n * @param x1\n * @param y1\n * @param x2\n * @param y2\n * @param angle\n * @returns\n */\nexport const rotate = (\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    angle: number\n): IPoint => {\n    // 𝑎′𝑥=(𝑎𝑥−𝑐𝑥)cos𝜃−(𝑎𝑦−𝑐𝑦)sin𝜃+𝑐𝑥\n    // 𝑎′𝑦=(𝑎𝑥−𝑐𝑥)sin𝜃+(𝑎𝑦−𝑐𝑦)cos𝜃+𝑐𝑦.\n    // https://math.stackexchange.com/questions/2204520/how-do-i-rotate-a-line-segment-in-a-specific-point-on-the-line\n    return [\n        (x1 - x2) * Math.cos(angle) - (y1 - y2) * Math.sin(angle) + x2,\n        (x1 - x2) * Math.sin(angle) + (y1 - y2) * Math.cos(angle) + y2,\n    ];\n};\n","import { Ref } from \"vue\";\nimport { OPTION_TYPE } from \"../config\";\nimport { ICanvasConfig, IElement } from \"../types\";\nimport { createRandomCode } from \"../utils\";\n\nexport default (elements: Ref<IElement[]>, canvasConfig: ICanvasConfig) => {\n    const createElement = (element: IElement) => {\n        elements.value.push(element);\n        return element;\n    };\n\n    const createPenElement = ({ x, y }: { x: number; y: number }) => {\n        return createElement({\n            id: createRandomCode(),\n            type: OPTION_TYPE.PEN,\n            width: 0,\n            height: 0,\n            x,\n            y,\n            points: [[0, 0]],\n            angle: 0,\n            isDelete: false,\n            locked: false,\n            lineWidth: canvasConfig.lineWidth,\n            strokeColor: canvasConfig.strokeColor\n        });\n    };\n\n    return {\n        createPenElement\n    };\n};\n","import { IDBPDatabase, openDB } from \"idb\";\nimport { IElement } from \"../types\";\n\nconst DB_NAME = \"WHITE_BOARD_DB\";\n\nclass DB {\n    private db: IDBPDatabase | undefined;\n    async init() {\n        if (!this.db) {\n            this.db = await openDB(DB_NAME, 1, {\n                upgrade(db) {\n                    if (!db.objectStoreNames.contains(\"history\")) {\n                        const objectStore = db.createObjectStore(\"history\", {\n                            keyPath: \"id\",\n                            autoIncrement: true\n                        });\n                        objectStore.createIndex(\"id\", \"id\", {\n                            unique: true\n                        });\n                    }\n                }\n            });\n        }\n    }\n\n    async delete(keys: number[]) {\n        for (const key of keys) {\n            await this.db?.transaction(\"history\", \"readwrite\").objectStore(\"history\").delete(key);\n        }\n    }\n\n    async getData(key: number) {\n        return await this.db?.transaction(\"history\").objectStore(\"history\").get(key);\n    }\n\n    async getAllKeys() {\n        return await this.db?.transaction(\"history\").objectStore(\"history\").getAllKeys();\n    }\n\n    async setData(elements: IElement[]) {\n        this.db\n            ?.transaction(\"history\", \"readwrite\")\n            .objectStore(\"history\")\n            .add({elements: JSON.parse(JSON.stringify(elements))})\n    }\n}\n\nexport default new DB();\n","import { debounce } from \"lodash\";\nimport { Ref } from \"vue\";\nimport { IElement } from \"../types\";\nimport db from \"../utils/db\";\n\nexport default (elements: Ref<IElement[]>, snapshotKeys: Ref<number[]>, snapshotCursor: Ref<number>, renderElements?: (elements: IElement[]) => void) => {\n    // 新增历史快照\n    const addHistorySnapshot = debounce(async (elements: IElement[]) => {\n        // 当快照指针不是指向与最后一个 需要删除指针之后的记录\n        if (snapshotCursor.value < snapshotKeys.value.length - 1) {\n            await db.delete(snapshotKeys.value.slice(snapshotCursor.value + 1));\n        }\n        await db.setData(elements);\n\n        await getHistorySnapshot();\n    }, 300);\n\n    const getHistorySnapshot = async () => {\n        snapshotKeys.value = (await db.getAllKeys()) as number[];\n        if (!snapshotKeys.value || snapshotKeys.value.length === 0) return { elements: [] };\n        const history = await db.getData(snapshotKeys.value[snapshotKeys.value.length - 1] as number);\n        snapshotCursor.value = snapshotKeys.value.length - 1;\n        elements.value = history.elements;\n    };\n\n    // 撤销\n    const undo = async () => {\n        if (snapshotCursor.value > -1) {\n            snapshotCursor.value--;\n            render();\n        }\n    };\n\n    // 恢复\n    const redo = () => {\n        if (snapshotCursor.value < snapshotKeys.value.length - 1) {\n            snapshotCursor.value++;\n            render();            \n        }\n    };\n\n    const render = async () => {\n        if (snapshotCursor.value === -1) {\n            elements.value = [];\n            return renderElements && renderElements([]);\n        }\n        const key = snapshotKeys.value[snapshotCursor.value];\n        const history = await db.getData(key);\n        elements.value = history.elements;\n        renderElements && renderElements(history.elements);\n    };\n\n    return {\n        addHistorySnapshot,\n        getHistorySnapshot,\n        undo,\n        redo\n    }\n};","import { Ref } from \"vue\";\nimport { OPTION_TYPE } from \"../config\";\nimport { IBoundsCoords, ICanvasConfig, IElement, IPenElement, IRects } from \"../types\";\nimport {\n    getElementBoundsCoords,\n    getElementResizePoints,\n    getPenSvgPath,\n    getTargetElement,\n    getVisibleElements,\n} from \"../utils\";\n\nexport default (\n    canvas: Ref<HTMLCanvasElement | null>,\n    context: Ref<CanvasRenderingContext2D | null>,\n    canvasConfig: ICanvasConfig,\n    selectedElement: Ref<IElement | undefined>\n) => {\n    const drawCheckBoxRect = (coords: IBoundsCoords) => {\n        if (!context.value) return;\n        context.value.clearRect(...coords);\n        context.value.strokeRect(...coords);\n    };\n\n    const drawCheckBox = (element: IElement) => {\n        if (!context.value) return;\n        context.value.save();\n\n        // 缩放\n        context.value.scale(\n            window.devicePixelRatio * canvasConfig.zoom,\n            window.devicePixelRatio * canvasConfig.zoom\n        );\n\n        const [minX, minY, maxX, maxY] = getElementBoundsCoords(element);\n        const elementWidth = maxX - minX;\n        const elementHeight = maxY - minY;\n        const dashedLinePadding = 4 / canvasConfig.zoom;\n        const dashWidth = 8 / canvasConfig.zoom;\n        const spaceWidth = 4 / canvasConfig.zoom;\n        const cx = (minX + maxX) / 2 + canvasConfig.scrollX;\n        const cy = (minY + maxY) / 2 + canvasConfig.scrollY;\n\n        // 移动坐标系原点\n        context.value.translate(cx, cy);\n\n        // 目标旋转对应的角度\n        context.value.rotate(element.angle);\n\n        // 平移坐标原点\n        // context.value.translate(canvasConfig.scrollX, canvasConfig.scrollY);\n        \n        context.value.strokeStyle = \"#333\";\n        context.value.lineWidth = 1 / canvasConfig.zoom;\n        context.value.setLineDash([dashWidth, spaceWidth]);\n        context.value.strokeRect(\n            - elementWidth / 2 - dashedLinePadding,\n            - elementHeight / 2 - dashedLinePadding,\n            elementWidth + dashedLinePadding * 2,\n            elementHeight + dashedLinePadding * 2\n        );\n\n        // 绘制九点\n        // 坐标值计算\n        const rects: IRects = getElementResizePoints(- elementWidth / 2, - elementHeight / 2, elementWidth, elementHeight, dashedLinePadding, dashWidth);\n        context.value.setLineDash([0, 0]);\n        for (const key in rects) {\n            drawCheckBoxRect(rects[key]);\n        }\n\n        context.value.restore();\n    };\n\n    // 绘制笔记\n    const renderPenElement = (element: IPenElement) => {\n        // 点少于两个时不进行绘制\n        if (element.points.length < 2 || !context.value) return;\n        const [x1, y1, x2, y2] = getElementBoundsCoords(element);\n\n        // cx, cy 最小矩形中心点在canvas中的位置\n        const cx = (x1 + x2) / 2 + canvasConfig.scrollX;\n        const cy = (y1 + y2) / 2 + canvasConfig.scrollY;\n\n        // 笔记起始点相对于最小矩形中心点偏移位置\n        const shiftX = (x2 - x1) / 2 - (element.x - x1);\n        const shiftY = (y2 - y1) / 2 - (element.y - y1);\n\n        // 存储状态\n        context.value.save();\n\n        // 缩放\n        context.value.scale(\n            window.devicePixelRatio * canvasConfig.zoom,\n            window.devicePixelRatio * canvasConfig.zoom\n        );\n\n        // 移动坐标系原点\n        context.value.translate(cx, cy);\n\n        // 目标旋转对应的角度\n        context.value.rotate(element.angle);\n\n        // 坐标原点移动到笔记起始位置\n        context.value.translate(-shiftX, -shiftY);\n\n        // 绘制笔记\n        context.value.fillStyle = element.strokeColor;\n        const path = getPenSvgPath(element.points, element.lineWidth);\n        context.value.fill(path);\n\n        context.value.stroke();\n\n        // 状态复原\n        context.value.restore();\n    };\n\n    const renderElements = (elements: IElement[]) => {\n        if (!canvas.value || !context.value) return;\n        const normalizedCanvasWidth = canvas.value.width / canvasConfig.zoom;\n        const normalizedCanvasHeight = canvas.value.height / canvasConfig.zoom;\n        context.value.clearRect(0, 0, canvas.value.width, canvas.value.height);\n        const visibleElements = getVisibleElements(\n            elements,\n            canvasConfig.scrollX,\n            canvasConfig.scrollY,\n            normalizedCanvasWidth,\n            normalizedCanvasHeight\n        );\n\n        // 绘制canvas\n        visibleElements.forEach((element) => {\n            if (!element.isDelete) {\n                switch (element.type) {\n                    case OPTION_TYPE.PEN:\n                        renderPenElement(element);\n                        break;\n                }\n            }\n        });\n\n        // 绘制选中框\n        if (selectedElement.value) {\n            const targetElement = getTargetElement(selectedElement.value!.id, elements);\n            if (targetElement) {\n                drawCheckBox(targetElement);\n            }\n        }\n    };\n\n    return {\n        renderElements,\n        renderPenElement,\n    };\n};\n","import { Ref } from \"vue\";\nimport { IElement } from \"../types\";\n\nexport default (elements: Ref<IElement[]>) => {\n    const updateElement = (element: IElement, props: Partial<IElement>) => {\n        const i = elements.value.findIndex(item => item.id === element.id);\n        for (const key in props) {\n            element[key] = props[key];\n        }\n        elements.value[i] = element;\n    };\n\n    return {\n        updateElement\n    };\n};\n","import { Ref } from \"vue\";\nimport { ICanvasConfig, IElement, IElementOptions, IPoint } from \"../types\";\nimport {\n    deepClone,\n    ELEMENT_RESIZE,\n    getBoundsCoordsFromPoints,\n    getElementCenterOnCanvas,\n    getTargetElement,\n    normalizeAngle,\n    rotate\n} from \"../utils\";\nimport useRenderElement from \"./useRenderElement\";\nimport useUpdateElement from \"./useUpdateElement\";\n\nexport default (\n    canvas: Ref<HTMLCanvasElement | null>,\n    context: Ref<CanvasRenderingContext2D | null>,\n    elements: Ref<IElement[]>,\n    canvasConfig: ICanvasConfig,\n    selectedElement: Ref<IElement | undefined>\n) => {\n    const { updateElement } = useUpdateElement(elements);\n    const { renderElements } = useRenderElement(\n        canvas,\n        context,\n        canvasConfig,\n        selectedElement\n    );\n\n    /**\n     * 以元素坐标系为中心\n     * 缩放都是以坐标系为中心变化\n     * 以x坐标变化为例 左边拖拽缩放\n     * 缩放比例为 scale\n     * 拖拽左边时，左边框正式变化了坐标轴左边的部分\n     * 为了保持元素右边位置不变，需要将元素进行左右平移，平移距离为坐标轴右边变化大小\n     *\n     * 旋转处理\n     */\n\n    /**\n     * 横向变动\n     * @param mx\n     * @param my\n     * @param sx\n     * @param sy\n     * @param direction\n     * @param originX\n     * @returns\n     */\n    const horizontalZoom = (\n        mx: number,\n        my: number,\n        sx: number,\n        sy: number,\n        direction: number,\n        originX: number\n    ) => {\n        const oldWidth = Math.abs(selectedElement.value!.width);\n        const angle = selectedElement.value!.angle;\n\n        // 在sx,sy以x轴平行的线段上取任意一点 绕sx，sy旋转angle\n        const nPoint = [sx - 10, sy];\n        const tn = rotate(nPoint[0], nPoint[1], sx, sy, angle);\n        // 求 鼠标点 与 起始点的向量 在 tn点 与 起始点向量上投影的距离值 即为移动的距离\n        // 向量a在向量b上的投影：设a、b向量的模分别为A、B，两向量夹角为θ，则a在b上的投影大小为Acosθ，而两向量的点积a·b=ABcosθ，所以cosθ=a·b/(AB)。则a在b上的投影为Acosθ=Aa·b/(AB)=a·b/B\n        const a = { x: mx - sx, y: my - sy };\n        const b = { x: tn[0] - sx, y: tn[1] - sy };\n        // const A = Math.hypot(a.x, a.y);\n        const B = Math.hypot(b.x, b.y);\n        const a·b = a.x * b.x + a.y * b.y;\n\n        // 移动距离\n        const move = (a·b / B) * direction;\n\n        const newWidth = oldWidth - move;\n        const scaleX = newWidth / oldWidth;\n\n        // 原点偏移\n        const originOffset = Math.abs(originX) * (scaleX - 1);\n\n        // 中心点偏移距离\n        const centerOffset = (newWidth - oldWidth) / 2;\n\n        return {\n            width: newWidth,\n            scaleX,\n            ofx: originOffset * Math.cos(angle) * direction,\n            ofy: originOffset * Math.sin(angle) * direction,\n            cfx: centerOffset * Math.cos(angle) * direction,\n            cfy: centerOffset * Math.sin(angle) * direction\n        };\n    };\n\n    /**\n     * 纵向变动\n     * @param mx\n     * @param my\n     * @param sx\n     * @param sy\n     * @param direction\n     * @param originY\n     * @returns\n     */\n    const verticalZoom = (\n        mx: number,\n        my: number,\n        sx: number,\n        sy: number,\n        direction: number,\n        originY: number\n    ) => {\n        const oldHeight = Math.abs(selectedElement.value!.height);\n        const angle = selectedElement.value!.angle;\n\n        // 在sx,sy以y轴平行的线段上取任意一点 绕sx，sy旋转angle\n        const nPoint = [sx, sy - 10];\n        const tn = rotate(nPoint[0], nPoint[1], sx, sy, angle);\n        // 求 鼠标点 与 起始点的向量 在 tn点 与 起始点向量上投影的距离值 即为移动的距离\n        // 向量a在向量b上的投影：设a、b向量的模分别为A、B，两向量夹角为θ，则a在b上的投影大小为Acosθ，而两向量的点积a·b=ABcosθ，所以cosθ=a·b/(AB)。则a在b上的投影为Acosθ=Aa·b/(AB)=a·b/B\n        const a = { x: mx - sx, y: my - sy };\n        const b = { x: tn[0] - sx, y: tn[1] - sy };\n        // const A = Math.hypot(a.x, a.y);\n        const B = Math.hypot(b.x, b.y);\n        const a·b = a.x * b.x + a.y * b.y;\n\n        // 移动距离\n        const move = (a·b / B) * direction;\n\n        const newHeight = oldHeight - move;\n        const scaleY = newHeight / oldHeight;\n\n        // 原点偏移\n        const originOffset = Math.abs(originY) * (scaleY - 1);\n\n        // 中心点偏移距离\n        const centerOffset = (newHeight - oldHeight) / 2;\n\n        return {\n            height: newHeight,\n            scaleY,\n            ofx: -originOffset * Math.sin(angle) * direction,\n            ofy: originOffset * Math.cos(angle) * direction,\n            cfx: -centerOffset * Math.sin(angle) * direction,\n            cfy: centerOffset * Math.cos(angle) * direction\n        };\n    };\n\n    const optionElement = (startPoint: IPoint | null, x: number, y: number) => {\n        if (!selectedElement.value || !startPoint) return;\n        const moveX = x - startPoint[0];\n        const moveY = y - startPoint[1];\n        const [minX, minY, maxX, maxY] = getBoundsCoordsFromPoints(\n            selectedElement.value.points\n        );\n        const optionElement = getTargetElement(\n            selectedElement.value!.id,\n            elements.value\n        );\n        switch (\n            (ELEMENT_RESIZE as IElementOptions)[canvasConfig.elementOption]\n        ) {\n            case ELEMENT_RESIZE.MOVE: {\n                if (optionElement) {\n                    updateElement(optionElement, {\n                        x: selectedElement.value.x + moveX,\n                        y: selectedElement.value.y + moveY\n                    });\n                }\n                break;\n            }\n            case ELEMENT_RESIZE.ANGLE: {\n                if (optionElement) {\n                    const { cx, cy } = getElementCenterOnCanvas(\n                        selectedElement.value\n                    );\n                    const startAngle = Math.atan2(\n                        startPoint[1] - cy,\n                        startPoint[0] - cx\n                    );\n                    const changeAngle = Math.atan2(y - cy, x - cx) - startAngle;\n                    const angle = normalizeAngle(\n                        selectedElement.value.angle + changeAngle\n                    );\n                    updateElement(optionElement, {\n                        angle\n                    });\n                }\n                break;\n            }\n            case ELEMENT_RESIZE.LEFT:\n            case ELEMENT_RESIZE.LEFT_TOP:\n            case ELEMENT_RESIZE.LEFT_BOTTOM:\n            case ELEMENT_RESIZE.TOP:\n            case ELEMENT_RESIZE.BOTTOM:\n            case ELEMENT_RESIZE.RIGHT:\n            case ELEMENT_RESIZE.RIGHT_TOP:\n            case ELEMENT_RESIZE.RIGHT_BOTTOM: {\n                const points: IPoint[] = deepClone(\n                    selectedElement.value.points\n                );\n                const { cx, cy } = getElementCenterOnCanvas(\n                    selectedElement.value!\n                );\n                const [tx, ty] = rotate(\n                    selectedElement.value.x,\n                    selectedElement.value.y,\n                    cx,\n                    cy,\n                    selectedElement.value.angle\n                );\n                const scale = { x: 1, y: 1 };\n                const rect = {\n                    width: selectedElement.value.width,\n                    height: selectedElement.value.height\n                };\n                const origin = { x: tx, y: ty };\n                const center = { x: cx, y: cy };\n                if (/LEFT/.test(canvasConfig.elementOption)) {\n                    const { width, ofx, ofy, cfx, cfy, scaleX } =\n                        horizontalZoom(\n                            x,\n                            y,\n                            startPoint[0],\n                            startPoint[1],\n                            -1,\n                            maxX\n                        );\n                    rect.width = width;\n                    origin.x = origin.x + ofx;\n                    origin.y = origin.y + ofy;\n                    center.x = center.x + cfx;\n                    center.y = center.y + cfy;\n                    scale.x = scaleX;\n                }\n\n                if (/RIGHT/.test(canvasConfig.elementOption)) {\n                    const { width, ofx, ofy, cfx, cfy, scaleX } =\n                        horizontalZoom(\n                            x,\n                            y,\n                            startPoint[0],\n                            startPoint[1],\n                            1,\n                            minX\n                        );\n                    rect.width = width;\n                    origin.x = origin.x + ofx;\n                    origin.y = origin.y + ofy;\n                    center.x = center.x + cfx;\n                    center.y = center.y + cfy;\n                    scale.x = scaleX;\n                }\n\n                if (/TOP/.test(canvasConfig.elementOption)) {\n                    const { height, ofx, ofy, cfx, cfy, scaleY } = verticalZoom(\n                        x,\n                        y,\n                        startPoint[0],\n                        startPoint[1],\n                        -1,\n                        maxY\n                    );\n                    rect.height = height;\n                    origin.x = origin.x + ofx;\n                    origin.y = origin.y + ofy;\n                    center.x = center.x + cfx;\n                    center.y = center.y + cfy;\n                    scale.y = scaleY;\n                }\n\n                if (/BOTTOM/.test(canvasConfig.elementOption)) {\n                    const { height, ofx, ofy, cfx, cfy, scaleY } = verticalZoom(\n                        x,\n                        y,\n                        startPoint[0],\n                        startPoint[1],\n                        1,\n                        minY\n                    );\n                    rect.height = height;\n                    origin.x = origin.x + ofx;\n                    origin.y = origin.y + ofy;\n                    center.x = center.x + cfx;\n                    center.y = center.y + cfy;\n                    scale.y = scaleY;\n                }\n\n                const [rx, ry] = rotate(\n                    origin.x,\n                    origin.y,\n                    center.x,\n                    center.y,\n                    -selectedElement.value.angle\n                );\n                updateElement(optionElement!, {\n                    width: rect.width,\n                    height: rect.height,\n                    points: points.map((point) => [\n                        point[0] * scale.x,\n                        point[1] * scale.y\n                    ]),\n                    x: rx,\n                    y: ry\n                });\n                break;\n            }\n        }\n        renderElements(elements.value);\n    };\n\n    return {\n        optionElement\n    };\n};\n","import { Ref } from \"vue\";\nimport { OPTION_TYPE } from \"../config\";\nimport { ICanvasConfig, IElement, IPoint } from \"../types\";\nimport {\n    checkCrossElements,\n    deepClone,\n    getBoundsCoordsFromPoints,\n    getCanvasPointPosition,\n    getElementOption,\n    getPositionElement,\n    getTargetElement,\n    getVisibleElements,\n    getWhiteBoardPointPosition,\n    throttleRAF\n} from \"../utils\";\nimport useCreateElement from \"./useCreateElement\";\nimport useHistorySnapshot from \"./useHistorySnapshot\";\nimport useOptionElement from \"./useOptionElement\";\nimport useRenderElement from \"./useRenderElement\";\nimport useUpdateElement from \"./useUpdateElement\";\n\nexport default (\n    canvas: Ref<HTMLCanvasElement | null>,\n    context: Ref<CanvasRenderingContext2D | null>,\n    elements: Ref<IElement[]>,\n    canvasConfig: ICanvasConfig,\n    snapshotKeys: Ref<number[]>,\n    snapshotCursor: Ref<number>,\n    hoverElement: Ref<IElement | undefined>,\n    selectedElement: Ref<IElement | undefined>\n) => {\n    const { createPenElement } = useCreateElement(elements, canvasConfig);\n    const { updateElement } = useUpdateElement(elements);\n    const { renderElements } = useRenderElement(canvas, context, canvasConfig, selectedElement);\n    const { optionElement } = useOptionElement(canvas, context, elements, canvasConfig, selectedElement);\n    const { addHistorySnapshot } = useHistorySnapshot(elements, snapshotKeys, snapshotCursor);\n    let targetElement: IElement | null = null;\n    let startPoint: IPoint | null = null;\n\n    // 获取元素操作鼠标展示光标\n    const setElementOptiontMouseCursor = (x: number, y: number) => {\n        canvasConfig.elementOption = hoverElement.value ? \"MOVE\" : \"\";\n        if (selectedElement.value) {\n            const elementOption = getElementOption([ x, y ], selectedElement.value, canvasConfig.zoom);\n            if (elementOption) canvasConfig.elementOption = elementOption;\n        }\n    };\n\n    const canvasMove = (event: PointerEvent | TouchEvent) => {\n        if (startPoint && canvasConfig.isMoveOrScale) {\n            const { x, y } = getWhiteBoardPointPosition(\n                event,\n                canvasConfig\n            );\n            canvasConfig.scrollX += x - startPoint[0];\n            canvasConfig.scrollY += y - startPoint[1];\n            startPoint = [x, y];\n            renderElements(elements.value);\n        }\n    };\n\n    const handleDown = (event: PointerEvent | TouchEvent) => {\n        if ((event.target as HTMLElement).tagName !== \"CANVAS\") return;\n        if (canvasConfig.isMoveOrScale) {\n            const { x, y } = getWhiteBoardPointPosition(\n                event,\n                canvasConfig\n            );\n            startPoint = [x, y];\n            return;\n        }\n\n        switch (canvasConfig.optionType) {\n            case OPTION_TYPE.MOUSE: {\n                // 选定鼠标点击的元素\n                const { x, y } = getCanvasPointPosition(event, canvasConfig);\n                startPoint = [x, y];\n                \n                // 选中执行元素操作\n                if (selectedElement.value) {\n                    canvasConfig.elementOption = \"\";\n                    if (hoverElement.value) {\n                        canvasConfig.elementOption = \"MOVE\";\n                        // 需要判定一下选中的元素和hover的元素是否是同一个，不是需要更新选中的元素\n                        if (selectedElement.value.id !== hoverElement.value.id) {\n                            selectedElement.value = deepClone(getTargetElement(hoverElement.value.id, elements.value));\n                        }\n                    }\n                    if (!selectedElement.value) return;\n                    const elementOption = getElementOption([ x, y ], selectedElement.value, canvasConfig.zoom);\n                    if (elementOption) {\n                        canvasConfig.elementOption = elementOption;\n                    }\n                    if (canvasConfig.elementOption) {\n                        // 更新一下选中元素\n                        selectedElement.value = deepClone(getTargetElement(selectedElement.value.id, elements.value));\n                        canvasConfig.isElementOption = true;\n                    }\n                }\n                \n                // 没有执行元素操作 下面选中某个元素\n                if (!canvasConfig.isElementOption) {\n                    const normalizedCanvasWidth = canvas.value!.width / canvasConfig.zoom;\n                    const normalizedCanvasHeight = canvas.value!.height / canvasConfig.zoom;\n                    const visibleElements = getVisibleElements(elements.value, canvasConfig.scrollX, canvasConfig.scrollY, normalizedCanvasWidth, normalizedCanvasHeight);\n                    selectedElement.value = getPositionElement(visibleElements, canvasConfig.zoom, x, y, selectedElement.value);\n\n                    // 选中了元素 未松开鼠标 执行移动操作\n                    if (selectedElement.value) {\n                        canvasConfig.elementOption = \"MOVE\";\n                        canvasConfig.isElementOption = true;\n                    }\n                }\n                \n                renderElements(elements.value);\n                break;\n            }\n            case OPTION_TYPE.PEN: {\n                const { x, y } = getCanvasPointPosition(event, canvasConfig);\n                targetElement = createPenElement({ x, y });\n                canvasConfig.isDrawing = true;\n                break;\n            }\n            case OPTION_TYPE.ERASER: {\n                const { x, y } = getCanvasPointPosition(event, canvasConfig);\n                startPoint = [x, y];\n                canvasConfig.isDrawing = true;\n                break;\n            }\n        }\n    };\n\n    const handleMove = throttleRAF((event: PointerEvent | TouchEvent) => {\n        // if ((event.target as HTMLElement).tagName !== \"CANVAS\") return;\n        // 绘制\n        if (canvasConfig.isDrawing) {\n            switch (canvasConfig.optionType) {\n                case OPTION_TYPE.MOUSE: {\n                    break;\n                }\n                case OPTION_TYPE.PEN: {\n                    if (!targetElement) return;\n                    const { x, y } = getCanvasPointPosition(event, canvasConfig);\n                    drawOnCanvas(x, y);\n                    break;\n                }\n                case OPTION_TYPE.ERASER: {\n                    if (!startPoint) return;\n                    const { x, y } = getCanvasPointPosition(event, canvasConfig);\n                    const normalizedCanvasWidth = canvas.value!.width / canvasConfig.zoom;\n                    const normalizedCanvasHeight = canvas.value!.height / canvasConfig.zoom;\n                    const visibleElements = getVisibleElements(elements.value, canvasConfig.scrollX, canvasConfig.scrollY, normalizedCanvasWidth, normalizedCanvasHeight);\n                    checkCrossElements(\n                        startPoint,\n                        x,\n                        y,\n                        visibleElements\n                    );\n                    renderElements(elements.value);\n                    startPoint = [x, y];\n                    break;\n                }\n            }\n            return;\n        } \n        \n        // 缩放与移动\n        if (canvasConfig.isMoveOrScale) {\n            canvasMove(event);\n            return;\n        }\n\n        if (canvasConfig.optionType === OPTION_TYPE.MOUSE) {\n            const { x, y } = getCanvasPointPosition(event, canvasConfig);\n\n            if (canvasConfig.isElementOption) {\n                // 执行元素操作\n                optionElement(startPoint, x, y);\n                canvasConfig.isRecordElementOption = true;\n                return;\n            }\n\n            // 对鼠标移动位置进行判断 是否处于元素之上\n            const normalizedCanvasWidth = canvas.value!.width / canvasConfig.zoom;\n            const normalizedCanvasHeight = canvas.value!.height / canvasConfig.zoom;\n            const visibleElements = getVisibleElements(elements.value, canvasConfig.scrollX, canvasConfig.scrollY, normalizedCanvasWidth, normalizedCanvasHeight);\n            hoverElement.value = getPositionElement(visibleElements, canvasConfig.zoom, x, y, selectedElement.value);\n\n            if (!canvasConfig.isElementOption) {\n                // 当元素存在时\n                setElementOptiontMouseCursor(x, y);\n            }\n        }\n    });\n\n    const drawOnCanvas = (x: number, y: number) => {\n        if (!targetElement) return;\n        switch (targetElement.type) {\n            case OPTION_TYPE.PEN: {\n                const points = targetElement.points;\n                updateElement(targetElement, {\n                    points: [\n                        ...points,\n                        [x - targetElement.x, y - targetElement.y]\n                    ]\n                });\n                // renderPenElement(targetElement);\n                break;\n            }\n        }\n        renderElements(elements.value);\n    };\n\n    const handleUp = (event: PointerEvent | TouchEvent) => {\n        // if ((event.target as HTMLElement).tagName !== \"CANVAS\") return;\n        if (canvasConfig.isDrawing)  {\n            switch (canvasConfig.optionType) {\n                case OPTION_TYPE.MOUSE: {\n                    // canvasMove(event);\n                    break;\n                }\n                case OPTION_TYPE.PEN: {\n                    if (!targetElement) return;\n                    const points = targetElement.points;\n                    if (points.length === 1) {\n                        updateElement(targetElement, {\n                            points: [...points, [0.0001, 0.0001]]\n                        });\n                    } else {\n                        const { x, y } = getCanvasPointPosition(\n                            event,\n                            canvasConfig\n                        );\n                        updateElement(targetElement, {\n                            points: [\n                                ...points,\n                                [x - targetElement.x, y - targetElement.y]\n                            ]\n                        });\n                    }\n                    // 更新一下元素width和height 暂时没有考虑旋转角度\n                    const [minX, minY, maxX, maxY] = getBoundsCoordsFromPoints(\n                        targetElement.points\n                    );\n                    updateElement(targetElement, {\n                        width: maxX - minX,\n                        height: maxY - minY\n                    });\n                    addHistorySnapshot(elements.value);\n                    renderElements(elements.value);\n                    break;\n                }\n                case OPTION_TYPE.ERASER: {\n                    // 橡皮擦模式在结束时过滤掉删除的元素\n                    elements.value = elements.value.filter(element => !element.isDelete);\n                    addHistorySnapshot(elements.value);\n                    renderElements(elements.value);\n                    break;\n                }\n            }\n        } else {\n            canvasMove(event);\n        }\n        targetElement = null;\n        startPoint = null;\n        canvasConfig.isDrawing = false;\n\n        // 如果在执行元素操作时松开鼠标 重新判定一下鼠标光标展示\n        if (canvasConfig.isElementOption) {\n            // 更新一下选中元素\n            selectedElement.value = deepClone(getTargetElement(selectedElement.value!.id, elements.value));\n            const { x, y } = getCanvasPointPosition(event, canvasConfig);\n            setElementOptiontMouseCursor(x, y);\n\n            if (canvasConfig.isRecordElementOption) {\n                addHistorySnapshot(elements.value);\n            }\n        }\n\n        canvasConfig.isElementOption = false;\n    };\n\n    const watchKeyDown = (event: KeyboardEvent) => {\n        if (event.key === \"Meta\" || event.key === \"Control\") {\n            canvasConfig.isMoveOrScale = true;\n        }\n    };\n\n    const watchKeyUp = (event: KeyboardEvent) => {\n        if (event.key === \"Meta\" || event.key === \"Control\") {\n            canvasConfig.isMoveOrScale = false;\n        }\n    };\n\n    return {\n        handleDown,\n        handleMove,\n        handleUp,\n        watchKeyUp,\n        watchKeyDown\n    };\n};\n","import { Ref } from \"vue\";\nimport { ICanvasConfig } from \"../types\";\nimport { getZoomScroll } from \"../utils\";\n\nexport default (\n    canvas: Ref<HTMLCanvasElement | null>,\n    canvasConfig: ICanvasConfig\n) => {\n    const getWhiteBoardCenter = () => {\n        return {\n            x: canvas.value!.width / 2,\n            y: canvas.value!.height / 2\n        };\n    };\n\n    const updateScroll = (\n        newZoom: number,\n        oldZoom: number,\n        x: number,\n        y: number\n    ) => {\n        const { scrollX, scrollY } = getZoomScroll(x, y, canvasConfig, newZoom, oldZoom);\n        canvasConfig.scrollX = scrollX;\n        canvasConfig.scrollY = scrollY;\n    };\n\n    const handleWeel = (clientX: number, clientY: number, deltaY: number) => {\n        const x = clientX - canvasConfig.offsetX;\n        const y = clientY - canvasConfig.offsetY;\n        const sign = Math.sign(deltaY);\n        const MAX_STEP = 10;\n        const absDelta = Math.abs(deltaY);\n        let delta = deltaY;\n        if (absDelta > MAX_STEP) {\n            delta = MAX_STEP * sign;\n        }\n\n        const newZoom = canvasConfig.zoom - delta / 100;\n        const oldZoom = canvasConfig.zoom;\n        canvasConfig.zoom = newZoom;\n        updateScroll(newZoom, oldZoom, x, y);\n    };\n\n    return {\n        getWhiteBoardCenter,\n        updateScroll,\n        handleWeel\n    };\n};\n","import { Ref } from \"vue\";\nimport { ICanvasConfig, IElement } from \"../types\";\n\nexport default (\n    canvas: Ref<HTMLCanvasElement | null>,\n    context: Ref<CanvasRenderingContext2D | null>,\n    elements: Ref<IElement[]>,\n    canvasConfig: ICanvasConfig\n) => {\n    const clearElements = () => {\n        if (!canvas.value || !context.value) return;\n        context.value.clearRect(0, 0, canvas.value.width, canvas.value.height);\n        elements.value = [];\n        canvasConfig.lineWidth = 5;\n        canvasConfig.scrollX = 0;\n        canvasConfig.scrollY = 0;\n        canvasConfig.zoom = 1;\n        canvasConfig.strokeColor = \"#000000\";\n    };\n    return {\n        clearElements\n    };\n};\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7271b6a2&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=7e7867f1&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n    register(`${process.env.BASE_URL}service-worker.js`, {\n        ready() {\n            console.log(\n                \"App is being served from cache by a service worker.\\n\" +\n                    \"For more details, visit https://goo.gl/AFskqB\"\n            );\n        },\n        registered() {\n            console.log(\"Service worker has been registered.\");\n        },\n        cached() {\n            console.log(\"Content has been cached for offline use.\");\n        },\n        updatefound() {\n            console.log(\"New content is downloading.\");\n        },\n        updated() {\n            console.log(\"New content is available; please refresh.\");\n        },\n        offline() {\n            console.log(\n                \"No internet connection found. App is running in offline mode.\"\n            );\n        },\n        error(error) {\n            console.error(\"Error during service worker registration:\", error);\n        }\n    });\n}\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport \"./registerServiceWorker\";\n\ncreateApp(App).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwhiteboard\"] = self[\"webpackChunkwhiteboard\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9208); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["OPTION_TYPE","viewBox","_createElementVNode","d","_hoisted_2","_createElementBlock","_hoisted_3","script","__exports__","render","fill","_hoisted_1","class","key","_defineComponent","name","props","inputValue","type","String","Number","default","disabled","Boolean","emits","setup","__props","emit","toRefs","reduce","add","stepValueInput","event","value","target","_ctx","_cache","_openBlock","onClick","$event","_createVNode","Reduce","_unref","_toDisplayString","min","onInput","Plus","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_4","Object","required","hue","color","computed","hsva","tinycolor","toHsv","h","bgColor","pointerTop","v","pointerLeft","s","emitChangeEvent","throttle","param","leading","trailing","saturationRef","ref","handleChange","e","preventDefault","containerWidth","clientWidth","containerHeight","clientHeight","xOffset","getBoundingClientRect","left","window","pageXOffset","yOffset","top","pageYOffset","clamp","pageX","pageY","saturation","bright","a","unbindEventListeners","removeEventListener","handleMouseDown","addEventListener","onUnmounted","ref_key","style","_normalizeStyle","background","onMousedown","size","white","grey","checkboardCache","renderCheckboard","canvas","document","createElement","width","height","ctx","getContext","fillStyle","fillRect","translate","toDataURL","getCheckboard","checkboard","bgStyle","backgroundImage","oldHue","pullDirection","hsla","toHsl","watch","hueRef","percent","l","gradientColor","rgbaStr","r","g","b","join","alphaRef","Math","round","Checkboard","val","_hex","toHex8String","toUpperCase","toHexString","replace","rgbVal","toRgbString","rgbExp","RegExp","rgbaExp","handleRGBAInput","indexOf","rgba","rgbaArr","match","length","handleInput","toRgb","_Fragment","CTX_CLICK_OUTSIDE_HANDLER","clickListener","el","binding","handler","path","composedPath","isClickOutside","contains","ClickOutsideDirective","mounted","setTimeout","unmounted","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","customColors","selectedColor","showColorPicker","showColorPickerAnimation","RECENT_COLORS","presetColorConfig","gradient","startColor","endColor","step","_startColor","_endColor","rStep","gStep","bStep","gradientColorArr","i","push","recentColors","get","set","rgbaString","themeColors","standardColors","getPresetColors","presetColors","currentColor","selectPresetColor","colorString","updateRecentColorsCache","debounce","_color","includes","maxLength","slice","onMounted","recentColorsCache","localStorage","getItem","JSON","parse","stringify","setItem","changeColor","clickOut","openColorPicker","_renderList","backgroundColor","_createBlock","Tick","_createCommentVNode","_withModifiers","Setting","_withDirectives","_normalizeClass","Saturation","onColorChange","Hue","Alpha","EditableInput","c","col","index","vClickOutside","xmlns","optionType","requried","lineWidth","strokeColor","zoom","snapshotCursor","snapshotKeys","Array","settingShow","undo","redo","selectedMode","oldZoom","newZoom","toFixed","input","Step","onReduce","onAdd","Revoke","MOUSE","Mouse","PEN","Pen","ERASER","Eraser","CLEAR","Clear","ColorPicker","onUpdate","deepClone","obj","createRandomCode","len","charset","maxLen","ret","randomIndex","floor","random","getCanvasPointPosition","canvasConfig","x","TouchEvent","targetTouches","clientX","y","clientY","offsetX","scrollX","offsetY","scrollY","getWhiteBoardPointPosition","getZoomScroll","baseScrollX","baseScrollY","zoomOffsetScrollX","zoomOffsetScrollY","getBoundsCoordsFromPoints","points","minX","Infinity","minY","maxX","maxY","max","getElementCenterOnCanvas","element","getElementBoundsCoords","cx","cy","throttleRAF","fn","handle","lastArgs","callback","args","requestAnimationFrame","flush","cancelAnimationFrame","_lastArgs","_callback","cancel","TO_FIXED_PRECISION","med","A","B","getPenSvgPath","options","simulatePressure","thinning","smoothing","streamline","easing","t","sin","PI","last","storkePoints","getStroke","svgPathData","acc","point","arr","Path2D","crossMul","v1","v2","checkCrossElements","startPonit","elements","isDelete","hypot","C","D","AB","AC","AD","CA","CB","CD","sign","getVisibleElements","normalizedCanvasWidth","normalizedCanvasHeight","viewMinX","viewMinY","viewMaxX","viewMaxY","getViewCanvasBoundsCoords","filter","getPositionElement","selectedElement","distance","hoverElement","nx","ny","rotate","angle","mousePoint","id","rA","rB","rAB","undefined","getElementResizePoints","elementWidth","elementHeight","dashedLinePadding","resizeRectWidth","LEFT_X","RIGH_X","CENTER_X","TOP_Y","BOTTOM_Y","CENTER_Y","LEFT_TOP","LEFT","LEFT_BOTTOM","TOP","BOTTOM","RIGHT_TOP","RIGHT","RIGHT_BOTTOM","ANGLE","ELEMENT_RESIZE","checkPointInRect","rect","translatePoint","getElementOption","rectWidth","rects","elementOption","getTargetElement","find","normalizeAngle","x1","y1","x2","y2","cos","createPenElement","locked","DB_NAME","DB","this","db","openDB","upgrade","objectStoreNames","objectStore","createObjectStore","keyPath","autoIncrement","createIndex","unique","keys","transaction","delete","getAllKeys","renderElements","addHistorySnapshot","async","setData","getHistorySnapshot","history","getData","context","drawCheckBoxRect","coords","clearRect","strokeRect","drawCheckBox","save","scale","devicePixelRatio","dashWidth","spaceWidth","strokeStyle","setLineDash","restore","renderPenElement","shiftX","shiftY","stroke","visibleElements","forEach","targetElement","updateElement","findIndex","item","useUpdateElement","useRenderElement","horizontalZoom","mx","my","sx","sy","direction","originX","oldWidth","abs","nPoint","tn","a·b","move","newWidth","scaleX","originOffset","centerOffset","ofx","ofy","cfx","cfy","verticalZoom","originY","oldHeight","newHeight","scaleY","optionElement","startPoint","moveX","moveY","MOVE","startAngle","atan2","changeAngle","tx","ty","origin","center","test","rx","ry","map","useCreateElement","useOptionElement","useHistorySnapshot","setElementOptiontMouseCursor","canvasMove","isMoveOrScale","handleDown","tagName","isElementOption","isDrawing","handleMove","drawOnCanvas","isRecordElementOption","handleUp","watchKeyDown","watchKeyUp","getWhiteBoardCenter","updateScroll","handleWeel","deltaY","MAX_STEP","absDelta","delta","clearElements","canvasScale","whiteboard","canvasWidth","canvasHeighth","canvasDomWidth","canvasDomHeight","cursor","reactive","canTouch","useHandlePointer","useZoom","useClearElement","zoomChange","wheelScaleCanvas","metaKey","ctrlKey","nextTick","resize","setTransform","resizeObserver","ResizeObserver","observe","onMousewheel","ToolBar","onUndo","onRedo","onZoomChange","onClear","WhiteBoard","register","ready","console","log","registered","cached","updatefound","updated","offline","error","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","deferred","O","result","chunkIds","priority","notFulfilled","fulfilled","j","every","splice","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","Function","prop","prototype","hasOwnProperty","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}