const e={getUserAgent:function(){return window.navigator.userAgent},userAgentContains:function(e){return e=e.toLowerCase(),this.getUserAgent().toLowerCase().indexOf(e)>-1},isOSX:function(){return this.userAgentContains("Macintosh")},isFirefox:function(){return this.userAgentContains("firefox")},isInternetExplorer:function(){return this.userAgentContains("trident")},isIE:function(){var e=this.getUserAgent().toLowerCase();return e.indexOf("msie")>0||e.indexOf("trident/")>0},isEdge:function(){return this.getUserAgent().toLowerCase().indexOf("edge")>0},isChrome:function(){const e=window.chrome,n=window.navigator,t=n.vendor,o=void 0!==window.opr,r=n.userAgent.indexOf("Edge")>-1,i=n.userAgent.match("CriOS");return null!=e&&"Google Inc."===t&&!1===o&&!1===r||i},isOpera:function(){return this.userAgentContains(" OPR/")}};let n;const t=(e,n,t)=>e.addEventListener?(e.addEventListener(n,t),{remove:function(){e.removeEventListener(n,t)}}):(e.attachEvent(n,t),{remove:function(){e.detachEvent(n,t)}}),o=(e,n)=>{let t=document.createElement("iframe");return t.src=n,t.id="hiddenIframe",t.style.display="none",e.appendChild(t),t},r=(e,r,i)=>{const s=setTimeout((function(){r(),c.remove()}),n);let a=document.querySelector("#hiddenIframe");a||(a=o(document.body,"about:blank"));const c=t(window,"blur",(()=>{clearTimeout(s),c.remove(),i()}));a.contentWindow.location.href=e};var i=(i,s,a,c=2e3,d)=>{const u=()=>{s&&s()},f=()=>{a&&a()},l=()=>{if(e.isFirefox()){(()=>{const e=window.navigator.userAgent;let n,t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(t[1])?(n=/\brv[ :]+(\d+)/g.exec(e)||[],parseFloat(n[1])||""):"Chrome"===t[1]&&(n=e.match(/\b(OPR|Edge)\/(\d+)/),null!=n)?parseFloat(n[2]):(t=t[2]?[t[1],t[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"],null!=(n=e.match(/version\/(\d+)/i))&&t.splice(1,1,n[1]),parseFloat(t[1]))})()>=64?r(i,u,f):((e,n,t)=>{let r=document.querySelector("#hiddenIframe");r||(r=o(document.body,"about:blank"));try{r.contentWindow.location.href=e,t()}catch(i){"NS_ERROR_UNKNOWN_PROTOCOL"==i.name&&n()}})(i,u,f)}else e.isChrome()?((e,o,r)=>{const i=setTimeout((function(){o(),a.remove()}),n);let s=window;for(;s.parent&&s!=s.parent;)s=s.parent;const a=t(s,"blur",(()=>{clearTimeout(i),a.remove(),r()}));window.location.href=e})(i,u,f):e.isOSX()?r(i,u,f):d&&d()};if(c&&(n=c),e.isEdge()||e.isIE())((e,n,t)=>{navigator.msLaunchUri(e,t,n)})(i,s,a);else if(document.hasFocus())l();else{let e=t(window,"focus",(()=>{e.remove(),l()}))}};export{i as c};
