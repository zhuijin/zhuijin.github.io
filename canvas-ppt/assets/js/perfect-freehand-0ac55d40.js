var t,e={};function n(){return t||(t=1,function(t){var e=Object.defineProperty;function n(t,e,n,r=(t=>t)){return t*r(.5-e*(.5-n))}function r(t,e){return[t[0]+e[0],t[1]+e[1]]}function i(t,e){return[t[0]-e[0],t[1]-e[1]]}function u(t,e){return[t[0]*e,t[1]*e]}function l(t){return[t[1],-t[0]]}function o(t,e){return t[0]*e[0]+t[1]*e[1]}function s(t,e){return t[0]===e[0]&&t[1]===e[1]}function c(t,e){return function(t){return t[0]*t[0]+t[1]*t[1]}(i(t,e))}function h(t){return function(t,e){return[t[0]/e,t[1]/e]}(t,function(t){return Math.hypot(t[0],t[1])}(t))}function f(t,e){return Math.hypot(t[1]-e[1],t[0]-e[0])}function a(t,e,n){let r=Math.sin(n),i=Math.cos(n),u=t[0]-e[0],l=t[1]-e[1],o=u*r+l*i;return[u*i-l*r+e[0],o+e[1]]}function p(t,e,n){return r(t,u(i(e,t),n))}function g(t,e,n){return r(t,u(e,n))}((t,n)=>{for(var r in(t=>{e(t,"__esModule",{value:!0})})(t),n)e(t,r,{get:n[r],enumerable:!0})})(t,{default:()=>L,getStroke:()=>P,getStrokeOutlinePoints:()=>y,getStrokePoints:()=>x});var{min:v,PI:d}=Math,M=.275,m=d+1e-4;function y(t,e={}){let{size:s=16,smoothing:f=.5,thinning:d=.5,simulatePressure:y=!0,easing:x=(t=>t),start:P={},end:L={},last:k=!1}=e,{cap:S=!0,easing:b=(t=>t*(2-t))}=P,{cap:z=!0,easing:A=(t=>--t*t*t+1)}=L;if(0===t.length||s<=0)return[];let O,_=t[t.length-1].runningLength,j=!1===P.taper?0:!0===P.taper?Math.max(s,_):P.taper,w=!1===L.taper?0:!0===L.taper?Math.max(s,_):L.taper,I=Math.pow(s*f,2),q=[],B=[],C=t.slice(0,10).reduce(((t,e)=>{let n=e.pressure;if(y){let r=v(1,e.distance/s),i=v(1,1-r);n=v(1,t+r*M*(i-t))}return(t+n)/2}),t[0].pressure),D=n(s,d,t[t.length-1].pressure,x),E=t[0].vector,F=t[0].point,G=F,H=F,J=G,K=!1;for(let h=0;h<t.length;h++){let{pressure:e}=t[h],{point:f,vector:g,distance:P,runningLength:L}=t[h];if(h<t.length-1&&_-L<3)continue;if(d){if(y){let t=v(1,P/s),n=v(1,1-t);e=v(1,C+t*M*(n-C))}D=n(s,d,e,x)}else D=s/2;void 0===O&&(O=D);let k=L<j?b(L/j):1,S=_-L<w?A((_-L)/w):1;D=Math.max(.01,D*Math.min(k,S));let z=(h<t.length-1?t[h+1]:t[h]).vector,N=h<t.length-1?o(g,z):1,Q=null!==N&&N<0;if(o(g,E)<0&&!K||Q){let t=u(l(E),D);for(let e=1/13,n=0;n<=1;n+=e)H=a(i(f,t),f,m*n),q.push(H),J=a(r(f,t),f,m*-n),B.push(J);F=H,G=J,Q&&(K=!0);continue}if(K=!1,h===t.length-1){let t=u(l(g),D);q.push(i(f,t)),B.push(r(f,t));continue}let R=u(l(p(z,g,N)),D);H=i(f,R),(h<=1||c(F,H)>I)&&(q.push(H),F=H),J=r(f,R),(h<=1||c(G,J)>I)&&(B.push(J),G=J),C=e,E=g}let N=t[0].point.slice(0,2),Q=t.length>1?t[t.length-1].point.slice(0,2):r(t[0].point,[1,1]),R=[],T=[];if(1===t.length){if(!j&&!w||k){let t=g(N,h(l(i(N,Q))),-(O||D)),e=[];for(let n=1/13,r=n;r<=1;r+=n)e.push(a(t,N,2*m*r));return e}}else{if(!(j||w&&1===t.length))if(S)for(let t=1/13,n=t;n<=1;n+=t){let t=a(B[0],N,m*n);R.push(t)}else{let t=i(q[0],B[0]),e=u(t,.5),n=u(t,.51);R.push(i(N,e),i(N,n),r(N,n),r(N,e))}let e=l(function(t){return[-t[0],-t[1]]}(t[t.length-1].vector));if(w||j&&1===t.length)T.push(Q);else if(z){let t=g(Q,e,D);for(let e=1/29,n=e;n<1;n+=e)T.push(a(t,Q,3*m*n))}else T.push(r(Q,u(e,D)),r(Q,u(e,.99*D)),i(Q,u(e,.99*D)),i(Q,u(e,D)))}return q.concat(T,B.reverse(),R)}function x(t,e={}){var n;let{streamline:u=.5,size:l=16,last:o=!1}=e;if(0===t.length)return[];let c=.15+.85*(1-u),a=Array.isArray(t[0])?t:t.map((({x:t,y:e,pressure:n=.5})=>[t,e,n]));if(2===a.length){let t=a[1];a=a.slice(0,-1);for(let e=1;e<5;e++)a.push(p(a[0],t,e/4))}1===a.length&&(a=[...a,[...r(a[0],[1,1]),...a[0].slice(2)]]);let g=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],v=!1,d=0,M=g[0],m=a.length-1;for(let r=1;r<a.length;r++){let t=o&&r===m?a[r].slice(0,2):p(M.point,a[r],c);if(s(M.point,t))continue;let e=f(t,M.point);if(d+=e,r<m&&!v){if(d<l)continue;v=!0}M={point:t,pressure:a[r][2]>=0?a[r][2]:.5,vector:h(i(M.point,t)),distance:e,runningLength:d},g.push(M)}return g[0].vector=(null==(n=g[1])?void 0:n.vector)||[0,0],g}function P(t,e={}){return y(x(t,e),e)}var L=P}(e)),e}export{n as r};
